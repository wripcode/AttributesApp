"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.WebflowRecord = exports.MetaResponse = void 0;
class MetaResponse {
    constructor(response) {
        this.response = response;
        this.rateLimit = {
            limit: parseInt(response.headers["x-ratelimit-limit"], 10),
            remaining: parseInt(response.headers["x-ratelimit-remaining"], 10),
        };
    }
}
exports.MetaResponse = MetaResponse;
class WebflowRecord {
    constructor(client, response, record, ...args) {
        Object.assign(this, record || response.data, ...args); // Copy the record data
        // dynamically add client and response to object
        // without serializing during toString()
        Object.defineProperties(this, {
            client: { get: () => client },
            response: { get: () => response },
            _meta: { get: () => new MetaResponse(response) }, // legacy support
        });
    }
}
exports.WebflowRecord = WebflowRecord;
